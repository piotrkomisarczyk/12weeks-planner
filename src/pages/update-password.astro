---
import AuthLayout from "@/layouts/AuthLayout.astro";
import { UpdatePasswordForm } from "@/components/auth/UpdatePasswordForm";
import { Toaster } from "@/components/ui/sonner";

// Determine if user is logged in to show appropriate UI
// This page handles two scenarios:
// 1. Password reset from email link (user not logged in)
// 2. Password change for logged-in user
const user = Astro.locals.user;
const isLoggedIn = !!user;
---

<AuthLayout title="Update Password" description="Update your 12 Weeks Planner password">
  <UpdatePasswordForm client:load isLoggedIn={isLoggedIn} />
  <Toaster client:load />
</AuthLayout>
